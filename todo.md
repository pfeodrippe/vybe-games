- [x] fix `zsh: killed`
- [x] create blender model
- [x] add ball moving through the base
  - [x] read animation from gltf
  - [x] query animation correctly (wildcard)
  - [x] create anonymous entities using `vf/_`
  - [x] run animation in-game
- [x] animation
  - [x] fix vini's model
  - [x] animate vini's
    - https://stackoverflow.com/questions/55989429/understanding-the-skinning-part-of-a-gltf2-0-file-for-opengl-engine
    - https://github.com/KhronosGroup/glTF-Tutorials/blob/main/gltfTutorial/gltfTutorial_020_Skins.md
    - [x] a_joint
    - [x] a_weight
    - [x] u_jointMat
  - [x] fix scale
  - [x] fix reference pose
  - [x] fix normals
  - [x] control animation with keyboard
- [x] positional sound
  - [x] use ambisonics
    - Repo, https://github.com/ambisonictoolkit/atk-sc3?tab=readme-ov-file
    - Eli's tutorial about ambisonics, https://www.youtube.com/watch?v=I2Cr_a4KCCI
- [x] camera far
  - [x] see camera view on blender
  - [x] use it on game
  - [x] active camera should be the one with the sound
  - [x] switch using space key
- [x] anim + physics + colliders
  - [x] cube
    - [x] animation
  - [x] idle/run animation
    - [x] switch between one state and the other
  - [x] press `M` (or click/hover) to toggle cube going up/down
    - [x] going in loop
    - [x] only once
    - [x] multiple cubes
      - [x] we need to register things as a child
        - [x] fix path issue
        - [x] fix anim
        - [x] fix armature
          - [x] running
          - [x] idle
      - [x] fix cube going up anim
      - [x] make animations more isolated
        - [x] blending
        - [x] create one per root object
          - [x] make it a child of the node
          - [x] find armature and put the animation inside it
      - [x] use animation multiple times
  - [x] use JOLT
    - https://jrouwe.github.io/JoltPhysics/index.html#architecture-jolt-physics
    - [x] import
    - [x] animate some cubes
    - [x] add bounding box from GLTF min/max position values
    - [x] use bounding box to create colision bodies
    - [x] raycast
  - [x] fix collider debug
  - [x] update body position of a static object
    - [x] disable plane raycast
    - [x] observer to check for mesh updates, adding/updating the associated collider?
      - use EcsOnSet
    - [x] fix crash when reloading the observers
    - [x] fix body values
    - [x] update for each frame
  - [x] check how to update kinematic entities
    - using movekinematic
  - [x] datalog query
    - [x] pair
    - [x] non-pair
    - [x] query scope
  - [x] observer for removing body when ecs body is removed
  - [x] fix dynamic
  - [x] fix mesh collision transform
    - [x] use is-a for for mesh primitives
    - [x] cubes are not being deleted
    - [x] fix raycast
  - [x] throw exception if we are modifying pointer, but they are not writable
  - [x] fix kinematic body not being removed
  - [x] rotate physic objects on load
  - [x] why the hell raycast is not working again?
  - [x] meshes from the model are not being removed (put a parent on the dynamic objects to check this)
  - [x] fix why it takes so much time on the first load when we have many objects
    - [x] use instances in queries
  - [x] fix why raycast is not working when adding multiple cubes
  - [x] create vg wrapper for init and draw
  - [ ] hover on a object
    - [x] send an event
    - [x] handle event with observer
    - [x] fix observer hot reload
    - [x] jolt contact listener
      - [x] build contact listener
      - [x] send it to an observer
    - [x] fix
      - [x] `on-contact-added` should be called with a lock, probably
    - [x] add :event
    - [x] raycast events
      - [x] create :vf/unique trait so we can have components that can be attached to only one  entity
      - [x] get active camera
      - [x] read raycast events
    - [x] sound
  - [x] click on a object
    - [x] sound
- [x] interpolate animation
- [x] time-series charts for monitoring
  - [x] how to visualize the data?
    - clerk
  - [x] systems triggering
  - [x] observers triggering
  - [-] charts derived from queries
- [-] add ability to use a keyword as a pair
  - not really needed
- [x] document tags + components
  - [x] move components to vybe.type
  - [x] docstring for components
  - [x] flecs tags
  - [x] game tags
  - [x] clerk docs
- [x] compile to multiple OSs
  - [x] create github workflow
    - [x] macos
      - [x] workflow
      - [x] test
    - [x] linux
      - [x] workflow
      - [x] test
    - [x] windows
      - [x] workflow
      - [x] test
  - [x] publish one classifier package per OS
    - [x] osx
    - [x] linux
    - [x] windows
  - [x] build sample game as an uberjar
    - [x] run it locally
  - [x] jpackage and publish in GA
    - [x] macos
    - [x] windows
    - [x] linux
  - [x] add ability to shutdown app
  - [x] share it with pedro
- [x] initial support for multiplayer
  - https://github.com/ValveSoftware/GameNetworkingSockets
  - https://developer.valvesoftware.com/wiki/Source_Multiplayer_Networking
  - https://docs.unrealengine.com/udk/Three/NetworkingOverview.html
  - https://gafferongames.com/categories/game-networking/
  - https://leanpub.com/b/development-and-deployment-of-multiplayer-online-games-part-arch
  - https://github.com/ThusSpokeNomad/GameNetworkingResources
  - https://github.com/anderspitman/awesome-tunneling
  - https://www.gabrielgambetta.com/client-server-game-architecture.html
  - https://tailscale.com/blog/how-nat-traversal-works
  - https://github.com/mas-bandwidth/netcode
    - https://github.com/mas-bandwidth/netcode/blob/main/STANDARD.md
  - hole punching, https://www.rafa.ee/articles/godot-peer-to-peer-multiplayer/
  - enet, https://github.com/zpl-c/enet
  - cute net, https://github.com/RandyGaul/cute_headers/blob/master/cute_net.h
  - [x] choose lib
    - netcode
  - [x] server
  - [x] client
  - [x] make server receive messages
  - [x] where would the server be hosted?
    - [x] one player can host it
  - [x] send connect token
  - [x] send packet from client to server
  - [x] public + private key could be generated by the host
  - [x] broadcast the position of your player
    - Sander's networking suggestion, https://discord.com/channels/633826290415435777/1090412095893422101/1253169609503150181
    - [x] mark position as :vg/networked
    - [x] only sync entities marked with :vg/sync
    - [x] move rabbit
    - [x] iterate over the networked components
    - [x] host sends data
    - [x] client receives data
    - [x] client's monster is moved
    - [x] one monster per player
      - [x] send entity
      - [x] create another monster in blender
    - [x] trigger animation in bother sides
    - [x] menu to setup network connection
      - [x] gamecode
      - [x] expand gamecode windows
      - [x] show connection status
- [x] fix windows issue
- [x] fix model loading
- [x] upgrade flecs
- [x] debug animation system
  - [x] maybe moving transform to C helps? (YES)
- [x] refactor leo.clj
- [x] fix blender 4.2 GLTF color export
- [x] check zig
  - https://renatoathaydes.github.io/zig-common-tasks/
  - Book about Zig, https://pedropark99.github.io/zig-book/
  - [x] simple zig function
  - [x] system test
  - [x] comptime hash map to define entities
    - we will try to follow what we have for the flecs clj vybe
    - [x] define simple entities
    - [x] add components to entities
    - [x] pairs
    - [x] add children to parent
    - [x] tags
    - [x] get pair
  - [x] system
    - [x] simple types
    - [x] get entity
    - [x] tag filtering
    - [x] optional
    - [x] pair
      - [x] tag
      - [x] component
    - [x] parent
    - [x] cascade
    - [x] out
  - [x] move transform system from c to zig
    - [x] raymath
    - [x] vybe types
    - [x] vybe_transform
    - [x] export
    - [x] call from clj
  - [x] observer
    - [x] observer function
    - [x] observer events
- [x] check CI
- [-] use SC without overtone?
  - nah, let's just use it
  - [-] compile using zig
  - [-] data-oriented approach?
  - [-] or maybe we can use faust?
    - https://github.com/grame-cncm/faust
    - https://faustdoc.grame.fr/workshops/2020-04-10-faust-101/
- [ ] sc build
  - [x] add test
  - [x] run CI
    - [x] osx
      - [x] pass test
      - [x] add to native folder
      - [x] check if we can increase the allowed size with the clojar's folks
      - [x] fix zig flecs and vybe_native flecs conflict by removing zig flecs
      - [x] fix sc resources lookup
      - [x] build
    - [x] windows
      - [x] pass test
      - [x] build
    - [x] linux
      - [x] pass test
      - [-] add synth lib into JAR
        - Let the Linux user handle that
      - [x] build
   - [ ] ambisonic test
     - https://www.ambisonictoolkit.net/documentation/supercollider/
     - [ ] osx
       - [ ] install atk
       - [ ] write test
         - [ ] see how to get the output programmatically
     - [ ] windows
       - [ ] install atk
       - [ ] write test
     - [ ] linux
       - [ ] install atk
       - [ ] write test
- [ ] small game for leo
  - [x] 3d text
    - [x] instanced drawing
      - [x] make lightning work with instanced
      - [x] simple particles
    - [x] particles sound
    - [x] more letters
    - [x] draw text
      - [x] draw one letter
        - [x] use transforms
      - [x] draw "OK"
      - [x] build transforms from strings
      - [x] align text
      - [x] support lower case characters
  - [x] check if we can have a slicing allocator
    - later
  - [x] digits
  - [-] hunnn, moving the text as particles seems also interesting
  - [ ] dialogue graphics
    - [ ] check if we can make a 3d balloon
    - [ ] test balloon with text
  - [ ] dialogue system
    - [ ] branches
  - [ ] make whole selectable instead of its parts (submeshes?)
  - [ ] click on objects to have them emit some sound
    - [ ] they can emit an unexpected sound (e.g. dog meows)
    - [ ] the player has to match the object with the sound
  - [ ] macarena
  - [ ] boi
  - [ ] owl
  - [ ] dog
  - [ ] cat
  - [ ] vampire
  - [ ] arrota/peida
- [ ] zig
  - [ ] use some known type for `term`
  - [ ] pair wildcard
- [ ] send only input, not transforms, to peers
- [ ] how to embed scsynth?
- [ ] use server when hole punching doesn't work
- [ ] improve controls for player
- [ ] interporlate network component values?
- [ ] get ip server from github repo
- [ ] check if we want to upgrade raylib (there are some issues)
- [ ] other characters
  - [x] ,;
  - [x] ?
  - [x] .
  - [x] !
  - [x] ()
  - [ ] []
  - [ ] ~
  - [ ] '
  - [x] "
  - [ ] /\
  - [ ] #
  - [ ] ^
  - [ ] *
  - [ ] _
- [ ] zig
  - [ ] create system from observers
- [x] small game
  - [-] fix scaled rotation
    - [x] are we able to use the latest c++ jolt?
      - yes
    - [-] rotations is still borked
    - just scale this shit and move on
  - [ ] try to open a box, but it’s from someone else
    - [ ] build simple character
    - [ ] box
      - [ ] build
      - [ ] animation
    - [ ] box opening sound
  - [ ] Try to move a pillar, but it’s public property
  - [ ] Buy a stolen gun
  - [ ] shoot some monster
  - [ ] Monster’s family appears crying
  - [ ] A procissão begins
  - [ ] you are judged and sentenced to prison
    - this is the end
  - A follow up to this may be a multiplayer game
- [ ] list animations in clerk
- [ ] list defcomps docs in clerk
- [ ] support soft bodies
- [ ] maybe run flecs in commands if sent from the REPL
  - [ ] add JVM property for PRD usage so we can disable these
- [x] add physics debug drawing
- [ ] fix parent object transform for the physic bodies
- [ ] build clouds with white cubes
- [ ] support multiple collision layers
  - [ ] sensor layer?
- [ ] state machine
- [ ] fix Blender linked data
- [ ] listener for body activation/deactivation
- [ ] make vg/Rotation always normalized
- [ ] support custom collider from GLTF (blender)
- [ ] run flecs commands in the main thread only so we don't have weirdness
- [ ] use same type for vector3/vector4 etc
- [x] put resources in world so we can get rid of `env`
- [ ] check if we can fix the `merge` issue with flecs world
- [ ] particles
  - [ ] grains in the air (maybe 1 pixel?)
  - [ ] represents wind?
- [ ] click on the character passing through to know what they have to say
- [ ] interact with a character
- [ ] zoom into a character
- [ ] sound design
  - [ ] zoom sound
  - [ ] near sound
- [ ] make animation programmable
- [ ] separate update physics system into a system (for kinematic only) and a observer (`add`)

- [ ] animation blending
- [ ] how to represent animations?
  - [ ] create multiple animations in blender for the same object
  - [ ] maybe states
- [ ] maybe use `$` for the keyword name when we want something to be registered as a child?
- [ ] maybe see if people in the flecs community can use it for modding


## Ideas

- [ ] blue's bird
- [ ] overly afficionated fox
- [ ] environment manipulation as game mechanic
- [ ] maybe one of the players only see the shadows
- [ ] game where you have to balance a ball in a lever with 2 or more players
- [ ] player modifies blender trying to trap the other
- [ ] we can do something that uses particles as flocks (e.g. animals)
